<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>happy Birthday</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Zeyada&display=swap" rel="stylesheet" />
  <style>
    body {
      height: 100vh;
      margin: 0;
      background-size: 1000px;
      background-image: url("https://www.psdgraphics.com/wp-content/uploads/2022/01/white-math-paper-texture.jpg");
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .paper {
      position: absolute;
      background-image: url("https://i0.wp.com/textures.world/wp-content/uploads/2018/10/2-Millimeter-Paper-Background-copy.jpg?ssl=1");
      background-size: 500px;
      padding: 20px 100px;
      transform: translate(-50%, -50%) rotateZ(-5deg);
      box-shadow: 1px 15px 20px rgba(0, 0, 0, 0.5);
      touch-action: none;
      display: none;
      left: 50%;
      top: 50%;
    }

    .paper.show {
      display: block;
    }

    .paper.heart {
      width: 200px;
      height: 200px;
      padding: 0;
      border-radius: 50%;
    }

    .paper.heart::after {
      content: "";
      background-image: url("https://cdn.pixabay.com/photo/2016/03/31/19/25/cartoon-1294994__340.png");
      background-size: 150px;
      background-repeat: no-repeat;
      background-position: center;
      opacity: 0.6;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }

    .paper.image {
      padding: 10px;
    }

    .paper.image p {
      font-size: 30px;
    }

    .paper img {
      max-height: 200px;
      width: 100%;
      user-select: none;
    }

    p {
      font-family: 'Zeyada', cursive;
      font-size: 50px;
      color: rgb(0, 0, 100);
      opacity: 0.75;
      user-select: none;
      margin: 5px 0;
    }

    .paper.red p {
      color: red;
    }

    #startBtn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      padding: 20px 40px;
      background: pink;
      border: none;
      border-radius: 12px;
      font-family: 'Zeyada', cursive;
      z-index: 9999;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <button id="startBtn">Tap to Start üéâ</button>

  <div class="paper"><p>Drag the papers to move!</p></div>
  <div class="paper"><p>Welcome To My Creative World <span style="color: red;">‚ù§Ô∏è</span></p></div>
  <div class="paper"><p>as you know, you are my everything üòç</p></div>
  <div class="paper image"><p>So today is very special day for your life and also for me ü•∞</p></div>

  <div class="paper image" id="birthday-paper">
    <p>Wishing you a very very Happy Birthday my cutie sweetie darshu! keep smile and be happy.... May this year be filled with success, growth, great moments, new opportunities, and strong connections God bless you üíóü•πüßø</p>
  </div>

  <div class="paper image">
    <img src="https://iili.io/HSzXbmF.jpg" alt="Love Image 2" />
  </div>

  <div class="paper heart"></div>

  <audio id="dragSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_2fe8d9e027.mp3" preload="auto"></audio>
  <audio id="popSound" src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_45f8d0b387.mp3" preload="auto"></audio>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
  const papers = document.querySelectorAll('.paper');
  const dragSound = document.getElementById('dragSound');
  const popSound = document.getElementById('popSound');
  const birthdayPaper = document.getElementById('birthday-paper');
  const startBtn = document.getElementById('startBtn');

  let celebrationTriggered = false;

  startBtn.addEventListener('click', () => {
    dragSound.play().catch(() => {});
    popSound.play().catch(() => {});
    dragSound.pause();
    popSound.pause();
    papers[0].classList.add('show');
    startBtn.remove();
  });

  function launchConfettiWithSound() {
    const configs = [
      { angle: 0, origin: { x: 0, y: 0.5 } },     // Left
      { angle: 180, origin: { x: 1, y: 0.5 } },   // Right
      { angle: 90, origin: { x: 0.5, y: 0 } },    // Top
      { angle: 270, origin: { x: 0.5, y: 1 } }    // Bottom
    ];

    configs.forEach((cfg, i) => {
      setTimeout(() => {
        confetti({
          particleCount: 100,
          spread: 70,
          angle: cfg.angle,
          origin: cfg.origin,
          ticks: 300,
          gravity: 0.4,
        });
        popSound.currentTime = 0;
        popSound.play();
      }, i * 700); // slight delay between bursts
    });
  }

  // üëÄ Watch for birthday paper to appear
  const observer = new MutationObserver(() => {
    if (birthdayPaper.classList.contains('show') && !celebrationTriggered) {
      celebrationTriggered = true;
      launchConfettiWithSound();
    }
  });

  observer.observe(birthdayPaper, { attributes: true, attributeFilter: ['class'] });

  const enableDragging = (note, index) => {
    let isDragging = false;
    let startX, startY, initialX, initialY;

    const onStart = (e) => {
      isDragging = true;
      const x = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      const y = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
      startX = x;
      startY = y;
      initialX = note.offsetLeft;
      initialY = note.offsetTop;
      note.style.zIndex = Date.now();
      dragSound.currentTime = 0;
      dragSound.play();
    };

    const onMove = (e) => {
      if (!isDragging) return;
      const x = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      const y = e.type.includes('touch') ? e.touches[0].clientY : e.clientY;
      note.style.left = `${initialX + (x - startX)}px`;
      note.style.top = `${initialY + (y - startY)}px`;
    };

    const onEnd = () => {
      if (isDragging) {
        isDragging = false;
        const nextIndex = index + 1;
        if (nextIndex < papers.length) {
          papers[nextIndex].classList.add('show');
        }
      }
    };

    note.addEventListener('mousedown', onStart);
    document.addEventListener('mousemove', onMove);
    document.addEventListener('mouseup', onEnd);

    note.addEventListener('touchstart', onStart);
    document.addEventListener('touchmove', onMove, { passive: false });
    document.addEventListener('touchend', onEnd);
  };

  papers.forEach((paper, index) => enableDragging(paper, index));
</script>

</body>
</html>
